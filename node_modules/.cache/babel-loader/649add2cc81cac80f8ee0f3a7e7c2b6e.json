{"ast":null,"code":"export const refreshTokenSetup = res => {\n  console.log(res);\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    console.log('newAuthRes:', newAuthRes);\n    localStorage.setItem('authToken', newAuthRes.id_token);\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  setTimeout(refreshToken, refreshTiming);\n};","map":{"version":3,"sources":["C:/Users/wijay/OneDrive/Desktop/spootify/src/utils/refreshToken.js"],"names":["refreshTokenSetup","res","console","log","refreshTiming","tokenObj","expires_in","refreshToken","newAuthRes","reloadAuthResponse","localStorage","setItem","id_token","setTimeout"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAIC,GAAD,IAAS;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,MAAIG,aAAa,GAAG,CAACH,GAAG,CAACI,QAAJ,CAAaC,UAAb,IAA2B,OAAO,IAAI,EAAvC,IAA6C,IAAjE;;AAEA,QAAMC,YAAY,GAAG,YAAY;AAC/B,UAAMC,UAAU,GAAG,MAAMP,GAAG,CAACQ,kBAAJ,EAAzB;AACAL,IAAAA,aAAa,GAAG,CAACI,UAAU,CAACF,UAAX,IAAyB,OAAO,IAAI,EAArC,IAA2C,IAA3D;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BK,UAA3B;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCH,UAAU,CAACI,QAA7C;AACAC,IAAAA,UAAU,CAACN,YAAD,EAAeH,aAAf,CAAV;AACD,GAND;;AAOAS,EAAAA,UAAU,CAACN,YAAD,EAAeH,aAAf,CAAV;AACD,CAZM","sourcesContent":["export const refreshTokenSetup = (res) => {\r\n  console.log(res)\r\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n\r\n  const refreshToken = async () => {\r\n    const newAuthRes = await res.reloadAuthResponse();\r\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n    console.log('newAuthRes:', newAuthRes);\r\n    localStorage.setItem('authToken', newAuthRes.id_token);\r\n    setTimeout(refreshToken, refreshTiming);\r\n  };\r\n  setTimeout(refreshToken, refreshTiming);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}