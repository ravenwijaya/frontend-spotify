{"ast":null,"code":"import { auth } from \"./Axios\";\nimport { setAccessToken } from '../utils/Token';\nexport const refreshTokenSetup = res => {\n  let refreshTiming = res.expires_in * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await auth();\n    refreshTiming = newAuthRes.expires_in * 1000;\n    setAccessToken(action.payload.accessToken);\n    localStorage.setItem('authToken', newAuthRes.id_token);\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  setTimeout(refreshToken, refreshTiming);\n};","map":{"version":3,"sources":["C:/Users/wijay/OneDrive/Desktop/spootify/src/utils/refreshToken.js"],"names":["auth","setAccessToken","refreshTokenSetup","res","refreshTiming","expires_in","refreshToken","newAuthRes","action","payload","accessToken","localStorage","setItem","id_token","setTimeout"],"mappings":"AAAA,SAASA,IAAT,QAAqB,SAArB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AAEA,OAAO,MAAMC,iBAAiB,GAAIC,GAAD,IAAS;AACxC,MAAIC,aAAa,GAAGD,GAAG,CAACE,UAAJ,GAAiB,IAArC;;AAEA,QAAMC,YAAY,GAAG,YAAY;AAC/B,UAAMC,UAAU,GAAG,MAAMP,IAAI,EAA7B;AACAI,IAAAA,aAAa,GAAGG,UAAU,CAACF,UAAX,GAAwB,IAAxC;AACAJ,IAAAA,cAAc,CAACO,MAAM,CAACC,OAAP,CAAeC,WAAhB,CAAd;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCL,UAAU,CAACM,QAA7C;AACAC,IAAAA,UAAU,CAACR,YAAD,EAAeF,aAAf,CAAV;AACD,GAND;;AAOAU,EAAAA,UAAU,CAACR,YAAD,EAAeF,aAAf,CAAV;AACD,CAXM","sourcesContent":["import { auth } from \"./Axios\";\r\nimport { setAccessToken } from '../utils/Token';\r\n\r\nexport const refreshTokenSetup = (res) => {\r\n  let refreshTiming = res.expires_in * 1000;\r\n\r\n  const refreshToken = async () => {\r\n    const newAuthRes = await auth();\r\n    refreshTiming = newAuthRes.expires_in * 1000;\r\n    setAccessToken(action.payload.accessToken);\r\n    localStorage.setItem('authToken', newAuthRes.id_token);\r\n    setTimeout(refreshToken, refreshTiming);\r\n  };\r\n  setTimeout(refreshToken, refreshTiming);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}