{"ast":null,"code":"import Axios from \"axios\"; // import { getAccessToken } from '../services/auth';\n\nimport config from \"../config\";\nexport const bati = Axios.create({\n  baseURL: `${config.api.baseUrl}`\n});\n\nconst getAccessToken = async () => {\n  let auth = `${config.api.clientId}:${config.api.clientSecret}`;\n  let encodedAuth = btoa(auth);\n  const data = await Axios.post(`${config.api.authUrl}`, {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    Authorization: `Basic ${encodedAuth}`\n  });\n  return data ? data : null;\n};\n\nbati.interceptors.request.use(config => {\n  const token = getAccessToken();\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n});","map":{"version":3,"sources":["C:/Users/wijay/OneDrive/Desktop/spootify/src/utils/Axios.js"],"names":["Axios","config","bati","create","baseURL","api","baseUrl","getAccessToken","auth","clientId","clientSecret","encodedAuth","btoa","data","post","authUrl","Authorization","interceptors","request","use","token","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,OAAO,MAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAG,GAAEH,MAAM,CAACI,GAAP,CAAWC,OAAQ;AADA,CAAb,CAAb;;AAIP,MAAMC,cAAc,GAAG,YAAY;AACjC,MAAIC,IAAI,GAAI,GAAEP,MAAM,CAACI,GAAP,CAAWI,QAAS,IAAGR,MAAM,CAACI,GAAP,CAAWK,YAAa,EAA7D;AACA,MAAIC,WAAW,GAAGC,IAAI,CAACJ,IAAD,CAAtB;AACA,QAAMK,IAAI,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAY,GAAEb,MAAM,CAACI,GAAP,CAAWU,OAAQ,EAAjC,EAAoC;AACrD,oBAAgB,mCADqC;AAErDC,IAAAA,aAAa,EAAG,SAAQL,WAAY;AAFiB,GAApC,CAAnB;AAIA,SAAOE,IAAI,GAAGA,IAAH,GAAU,IAArB;AACD,CARD;;AAUAX,IAAI,CAACe,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA+BlB,MAAD,IAAY;AACxC,QAAMmB,KAAK,GAAGb,cAAc,EAA5B;;AACA,MAAIa,KAAJ,EAAW;AACTnB,IAAAA,MAAM,CAACoB,OAAP,CAAeL,aAAf,GAAgC,UAASI,KAAM,EAA/C;AACD;;AACD,SAAOnB,MAAP;AACD,CAND","sourcesContent":["import Axios from \"axios\";\r\n// import { getAccessToken } from '../services/auth';\r\nimport config from \"../config\";\r\n\r\nexport const bati = Axios.create({\r\n  baseURL: `${config.api.baseUrl}`,\r\n});\r\n\r\nconst getAccessToken = async () => {\r\n  let auth = `${config.api.clientId}:${config.api.clientSecret}`;\r\n  let encodedAuth = btoa(auth);\r\n  const data = await Axios.post(`${config.api.authUrl}`, {\r\n    'Content-Type': 'application/x-www-form-urlencoded', \r\n    Authorization: `Basic ${encodedAuth}`\r\n  });\r\n  return data ? data : null;\r\n};\r\n\r\nbati.interceptors.request.use((config) => {\r\n  const token = getAccessToken();\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n"]},"metadata":{},"sourceType":"module"}