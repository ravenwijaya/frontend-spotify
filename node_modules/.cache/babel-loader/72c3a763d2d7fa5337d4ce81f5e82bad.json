{"ast":null,"code":"import { useSelector } from \"react-redux\";\nimport { bati } from \"../utils/Axios\";\nimport config from \"../config\"; // const user = useSelector(selectUser);\n\nconst DiscoverService = {\n  // export const getAccessToken = async () => {\n  //          //   if (typeof document !== \"undefined\") {\n  //   //     console.log(accessToken);\n  //   //     document.cookie = `accessToken=${accessToken}; path=/`;\n  //   //   }\n  //     //   return accessToken ? accessToken : null;\n  //   };\n  async getToken() {\n    let auth = `${config.api.clientId}:${config.api.clientSecret}`;\n    let encodedAuth = btoa(auth);\n    const data = await Axios({\n      method: \"post\",\n      url: \"https://accounts.spotify.com/api/token\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Authorization: `Basic ${encodedAuth}`\n      },\n      data: \"grant_type=client_credentials\"\n    }).then(res => {\n      return res.data;\n    }).catch(e => {\n      return e.response.data;\n    });\n    return data ? data : [];\n  },\n\n  async getNewReleased() {\n    const data = await bati.get(`/browse/new-releases`).then(res => res.data).catch(console.error);\n    return data ? data : [];\n  },\n\n  async getFeaturedPlaylists() {\n    const data = await bati.get(`/browse/featured-playlists`).then(res => res.data).catch(console.error);\n    return data ? data : [];\n  },\n\n  async getCategories() {\n    const data = await bati.get(`/browse/categories`).then(res => res.data).catch(console.error);\n    return data ? data : [];\n  }\n\n};\nexport default DiscoverService;","map":{"version":3,"sources":["C:/Users/wijay/OneDrive/Desktop/spootify/src/services/discover.js"],"names":["useSelector","bati","config","DiscoverService","getToken","auth","api","clientId","clientSecret","encodedAuth","btoa","data","Axios","method","url","headers","Authorization","then","res","catch","e","response","getNewReleased","get","console","error","getFeaturedPlaylists","getCategories"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,QAAqB,gBAArB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,MAAMC,eAAe,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AAEF,QAAMC,QAAN,GAAiB;AACf,QAAIC,IAAI,GAAI,GAAEH,MAAM,CAACI,GAAP,CAAWC,QAAS,IAAGL,MAAM,CAACI,GAAP,CAAWE,YAAa,EAA7D;AACA,QAAIC,WAAW,GAAGC,IAAI,CAACL,IAAD,CAAtB;AAEA,UAAMM,IAAI,GAAG,MAAMC,KAAK,CAAC;AACvBC,MAAAA,MAAM,EAAE,MADe;AAEvBC,MAAAA,GAAG,EAAE,wCAFkB;AAGvBC,MAAAA,OAAO,EAAE;AACP,wBAAgB,mCADT;AAEPC,QAAAA,aAAa,EAAG,SAAQP,WAAY;AAF7B,OAHc;AAOvBE,MAAAA,IAAI,EAAE;AAPiB,KAAD,CAAL,CAShBM,IATgB,CASVC,GAAD,IAAS;AACb,aAAOA,GAAG,CAACP,IAAX;AACD,KAXgB,EAYhBQ,KAZgB,CAYTC,CAAD,IAAO;AACZ,aAAOA,CAAC,CAACC,QAAF,CAAWV,IAAlB;AACD,KAdgB,CAAnB;AAeE,WAAOA,IAAI,GAAGA,IAAH,GAAU,EAArB;AACH,GA7BqB;;AA+BtB,QAAMW,cAAN,GAAuB;AACrB,UAAMX,IAAI,GAAG,MAAMV,IAAI,CACpBsB,GADgB,CACX,sBADW,EAEhBN,IAFgB,CAEVC,GAAD,IAASA,GAAG,CAACP,IAFF,EAGhBQ,KAHgB,CAGVK,OAAO,CAACC,KAHE,CAAnB;AAIA,WAAOd,IAAI,GAAGA,IAAH,GAAU,EAArB;AACD,GArCqB;;AAuCtB,QAAMe,oBAAN,GAA6B;AAC3B,UAAMf,IAAI,GAAG,MAAMV,IAAI,CACpBsB,GADgB,CACX,4BADW,EAEhBN,IAFgB,CAEVC,GAAD,IAASA,GAAG,CAACP,IAFF,EAGhBQ,KAHgB,CAGVK,OAAO,CAACC,KAHE,CAAnB;AAIA,WAAOd,IAAI,GAAGA,IAAH,GAAU,EAArB;AACD,GA7CqB;;AA+CtB,QAAMgB,aAAN,GAAsB;AACpB,UAAMhB,IAAI,GAAG,MAAMV,IAAI,CACpBsB,GADgB,CACX,oBADW,EAEhBN,IAFgB,CAEVC,GAAD,IAASA,GAAG,CAACP,IAFF,EAGhBQ,KAHgB,CAGVK,OAAO,CAACC,KAHE,CAAnB;AAIA,WAAOd,IAAI,GAAGA,IAAH,GAAU,EAArB;AACD;;AArDqB,CAAxB;AAwDA,eAAeR,eAAf","sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { bati } from \"../utils/Axios\";\r\nimport config from \"../config\";\r\n\r\n// const user = useSelector(selectUser);\r\nconst DiscoverService = {\r\n    // export const getAccessToken = async () => {\r\n    //          //   if (typeof document !== \"undefined\") {\r\n    //   //     console.log(accessToken);\r\n    //   //     document.cookie = `accessToken=${accessToken}; path=/`;\r\n    //   //   }\r\n    //     //   return accessToken ? accessToken : null;\r\n    //   };\r\n\r\n  async getToken() {\r\n    let auth = `${config.api.clientId}:${config.api.clientSecret}`;\r\n    let encodedAuth = btoa(auth);\r\n\r\n    const data = await Axios({\r\n      method: \"post\",\r\n      url: \"https://accounts.spotify.com/api/token\",\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n        Authorization: `Basic ${encodedAuth}`,\r\n      },\r\n      data: \"grant_type=client_credentials\",\r\n    })\r\n      .then((res) => {\r\n        return res.data;\r\n      })\r\n      .catch((e) => {\r\n        return e.response.data;\r\n      });\r\n      return data ? data : [];\r\n  },\r\n\r\n  async getNewReleased() {\r\n    const data = await bati\r\n      .get(`/browse/new-releases`)\r\n      .then((res) => res.data)\r\n      .catch(console.error);\r\n    return data ? data : [];\r\n  },\r\n\r\n  async getFeaturedPlaylists() {\r\n    const data = await bati\r\n      .get(`/browse/featured-playlists`)\r\n      .then((res) => res.data)\r\n      .catch(console.error);\r\n    return data ? data : [];\r\n  },\r\n\r\n  async getCategories() {\r\n    const data = await bati\r\n      .get(`/browse/categories`)\r\n      .then((res) => res.data)\r\n      .catch(console.error);\r\n    return data ? data : [];\r\n  },\r\n\r\n};\r\nexport default DiscoverService;"]},"metadata":{},"sourceType":"module"}